# 구간 합 계산하기

구간 합 문제는 연속적으로 나열된 N개의 수에서 **특정 구간의 수들을 모두 합한 값**을 구하는 문제입니다. 

주로, 다양한 **쿼리(Query)** 를 가정하여 문제가 출제되는데 각 쿼리들을 각각 구해서 계산한다면 O(NM)의 비효율적인 시간 복잡도가 나올 것입니다. 왜냐하면, 쿼리의 갯수가 10억개이고 N이 10억개라면 해결할 수  없으니까요.

> 📌 **항상 알고리즘 문제를 풀 때 고려해야하는 건, 여러번 사용될 만한 정보는 미리 구해놓는 것이 유리합니다.**
> 

즉, 이러한 구간 합 문제에서는 미리 N개의 수에 대해 처리를 한 후  M개의 쿼리들이 나올 때마다 빠르게 계산하는 거죠. 여기서 많이 사용하는 기법이 **접두사 합(Prefix Sum)** 입니다.  각각 수의 위치에 접두사 합을 미리 구하면 빠르게 구할 수 있게되죠.

# 💡 구간 합 빠르게 계산하기

1. `N`개의 수에 대해 접두사 합을 구하여 배열에 저장합니다.
2. 매 `M`개의 쿼리 정보 `[L,R]`을 확인할 때, 구간합은 **`P[R] - P[L-1]`** 입니다.

<img width="587" alt="image" src="https://user-images.githubusercontent.com/55238671/227460108-68866cdb-c6d5-4a55-a9ec-55a0ed50c56a.png">


```python
# data
n = 5
data = [10, 20, 30, 40, 50]

# Prefix Sum
sum_value = 0
prefix_sum = [0] # prefix_sum[0] = 0
for i in data:
    sum_value += i
    prefix_sum.append(sum_value)

# result
left = 3
right = 4
print(prefix_sum[right] - prefix_sum[left-1])
```

결과적으로 위 방식 대로 계산하게 되면 $O(1)$라는 시간 복잡도가 나옵니다. 

N개의 데이터를 M개의 쿼리가 있을 때 계산하는 작업은 **$O(N + M)$ 의 시간복잡도** 이니까요.
