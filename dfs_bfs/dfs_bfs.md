# dfs\_bfs

> **ì‚¬ì „ ê°œë…**
>
> * [stack, queue](https://github.com/dustin-kang/Programming-Team-Notes/blob/Python/data-structure/stack\_queue.md)
> * [recursive\_func](https://github.com/dustin-kang/Programming-Team-Notes/blob/Python/data-structure/recursive\_function.md)

ì„¤ëª…í•˜ê¸° ì•ì„œ, BFSì™€ DFSëŠ” ê·¸ë˜í”„ì˜ ê¸°ë³¸ êµ¬ì¡°ë¡œ ì´ë£¨ì–´ì ¸ ìˆë‹¤. ê·¸ë˜í”„ëŠ” **Node**ì™€ **Edge**ë¡œ ì´ë£¨ì–´ì ¸ ìˆìœ¼ë©° ë‘ Nodeê°€ í•˜ë‚˜ì˜ Edgeë¡œ ì—°ê²°ë˜ìˆë‹¤ë©´ `ë‘ ë…¸ë“œëŠ” ì¸ì ‘í•˜ë‹¤(Adjacent)`ë¼ê³  í•  ìˆ˜ ìˆë‹¤.

ì—¬ê¸°ì„œ ê·¸ë˜í”„ëŠ” í¬ê²Œ ë‘ê°€ì§€ ë°©ì‹ìœ¼ë¡œ í‘œí˜„í•  ìˆ˜ ìˆëŠ”ë° ì¸ì ‘ í–‰ë ¬ê³¼ ì¸ì ‘ ê·¸ë˜í”„ë¡œ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤.

* **ì¸ì ‘ í–‰ë ¬(Adjacency Matrix)** : 2ì°¨ì› ë°°ì—´ë¡œ ê·¸ë˜í”„ì˜ ì—°ê²° ê´€ê³„ë¥¼ í‘œí˜„
* **ì¸ì ‘ ê·¸ë˜í”„(Adgacency Graph)** : ë¦¬ìŠ¤íŠ¸ë¡œ ê·¸ë˜í”„ì˜ ì—°ê²° ê´€ê³„ë¥¼ í‘œí˜„

|        | ì¸ì ‘ í–‰ë ¬                           | ì¸ì ‘ ê·¸ë˜í”„                        |
| ------ | ------------------------------- | ----------------------------- |
| íŠ¹ì§•     | 2ì°¨ì› ë°°ì—´ì— ë…¸ë“œì˜ ì—°ê²° í˜•íƒœë¥¼ ê¸°ë¡           | ëª¨ë“  ë…¸ë“œì— ì—°ê²°ëœ ë…¸ë“œì— ëŒ€í•œ ì •ë³´ë¥¼ ì°¨ë¡€ëŒ€ë¡œ ê¸°ë¡ |
| ë©”ëª¨ë¦¬ ì¸¡ë©´ | ëª¨ë“  ê´€ê³„ë¥¼ ì €ì¥í•˜ë¯€ë¡œ ë…¸ë“œ ê°¯ìˆ˜ê°€ ë§ì„ ìˆ˜ë¡ ë‚­ë¹„ ğŸ‘ | ì—°ê²°ëœ ì •ë³´ë§Œ ì €ì¥í•˜ë¯€ë¡œ íš¨ìœ¨ì  ğŸ‘          |
| ì†ë„ ì¸¡ë©´  | ì¸ë±ìŠ¤ë¥¼ í†µí•´ ë°”ë¡œ ì°¾ì„ ìˆ˜ ìˆì–´ ğŸ‘           | ì—°ê²° ì •ë³´ë§Œ ì–»ê¸° ë•Œë¬¸ì— ëŠë¦¼ ğŸ‘           |

```python
# ì¸ì ‘ í–‰ë ¬
INF =  99999999 # ì—°ê²°ì´ ë˜ì§€ ì•Šì€ ë…¸ë“œ í‘œí˜„

graph = [
  [0, 7, 5], 
  [7, 0, INF],
  [5, INF, 0],
]

print(graph)

# [[0, 7, 5], [7, 0, 99999999], [5, 99999999, 0]]

# ì¸ì ‘ ë¦¬ìŠ¤íŠ¸
# í–‰ì´ 3ê°œì¸ ë¦¬ìŠ¤íŠ¸ë¡œ ì¸ì ‘ ë¦¬ìŠ¤íŠ¸ í‘œí˜„
graph = [[] for _ in range(3)]

graph[0].append((1, 7))
graph[0].append((2, 5))

graph[1].append((0, 7))
graph[2].append((0, 5)) # ë…¸ë“œ, ì—£ì§€

print(graph)

# [[(1, 7), (2, 5)], [(0, 7)], [(0, 5)]]

```

## DFS (Depth First Search)

> íŠ¹ì • ê²½ë¡œë¥¼ íƒìƒ‰í•˜ë‹¤ê°€ íŠ¹ì • ìƒí™©ì— ê¹Šì´ ë“¤ì–´ê°€ ë…¸ë“œë“¤ì„ ë°©ë¬¸í•˜ê³  ë‹¤ì‹œ ëŒì•„ì˜¤ëŠ” ì•Œê³ ë¦¬ì¦˜ì„ ë§í•©ë‹ˆë‹¤. **ìµœëŒ€í•œ ë©€ë¦¬ ìˆëŠ” ë…¸ë“œë¶€í„° ìš°ì„ ì **ìœ¼ë¡œ íƒìƒ‰í•©ë‹ˆë‹¤.

**1. íƒìƒ‰ ë…¸ë“œë¥¼ ìŠ¤íƒì— ì‚½ì…í•˜ê³  ë°©ë¬¸ ì²˜ë¦¬ í•œë‹¤.**

**2. ìŠ¤íƒì˜ ìµœìƒë‹¨ ë…¸ë“œì— ë°©ë¬¸í•˜ì§€ ì•Šì€ ì¸ì ‘ë…¸ë“œê°€ ìˆëŠ” ê²½ìš° ì¸ì ‘ë…¸ë“œë¥¼ ìŠ¤íƒì— ë„£ê³  ë°©ë¬¸í•œë‹¤. (ë°©ë¬¸í•˜ì§€ ì•Šì€ ì¸ì ‘ ë…¸ë“œê°€ ì—†ë‹¤ë©´ ìµœìƒë‹¨ ë…¸ë“œë¥¼ êº¼ë‚¸ë‹¤.)**

* ì¸ì ‘ ë…¸ë“œ ì¤‘ ë°©ë¬¸í•˜ì§€ ì•ŠëŠ” ë…¸ë“œë“¤ì´ ì—¬ëŸ¬ê°œ ì¼ ê²½ìš° ë²ˆí˜¸ê°€ ë‚®ì€ ìˆœì„œëŒ€ë¡œ ë°©ë¬¸í•©ë‹ˆë‹¤.

![DFS1](https://user-images.githubusercontent.com/55238671/236117539-3b1048f6-ed88-4b23-989a-515323f49533.gif)

ê¹Šì´ ìš°ì„  íƒìƒ‰ ì•Œê³ ë¦¬ì¦˜ì€ ìŠ¤íƒ ìë£Œêµ¬ì¡°ì— ê¸°ì´ˆë¥¼ ë‘ê³  ìˆì–´ êµ¬í˜„ì´ ê°„ë‹¨í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ì‹¤ì œë¡œ ìŠ¤íƒ(Stack)ì„ êµ³ì´ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ë˜ë©° ì¬ê·€ í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ë©´ ê°„ê²°í•˜ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì‹œê°„ ë³µì¡ë„ëŠ” ë°ì´í„° ê°¯ìˆ˜ë¥¼ í•œë²ˆì”© ëŒë©° ìˆ˜í–‰í•˜ê¸° ë•Œë¬¸ì— **$O(N)$** ì…ë‹ˆë‹¤.

#### ì½”ë“œ

```py
def dfs(graph, v, visited):
  """
  param:
  - graph : ê·¸ë˜í”„
  - v : íƒìƒ‰ ì‹œì‘ ë…¸ë“œ
  - visited : ë°©ë¬¸ ì²´í¬ ìš© ë¦¬ìŠ¤íŠ¸
  """
  visited[v] = True
  print(v, end=' ')

  # í˜„ì¬ ë…¸ë“œì™€ ì—°ê²°ëœ ë‹¤ë¥¸ ë…¸ë“œë¥¼ ì¬ê·€ì ìœ¼ë¡œ ë°©ë¬¸
  for i in graph[v]:
    if not visited[i]: # ë°©ë¬¸í•˜ì§€ ì•Šì€ ë…¸ë“œë¼ë©´
      dfs(graph, i, visited)

# ê° ë…¸ë“œê°€ ì—°ê²°ëœ ì •ë³´ë¥¼ ì¸ì ‘ë¦¬ìŠ¤íŠ¸ë¡œ í‘œí˜„ (2ì°¨ì›)
graph = [
  [],
  [2, 3, 8],
  [1, 7],
  [1, 4, 5],
  [3, 5],
  [3, 4],
  [7],
  [2, 6, 8],
  [1, 7]
]

# ë°©ë¬¸ëœ ì •ë³´ë¥¼ ì²´í¬í•˜ëŠ” ë¦¬ìŠ¤íŠ¸ ìë£Œí˜•
visited = [False] * 9

dfs(graph, 1, visited)
```

ì¬ê·€í•¨ìˆ˜ ëŒ€ì‹  ìŠ¤íƒì„ ì´ìš©í•˜ë©´ **ìŠ¤íƒì— ë“¤ì–´ê°„ ìˆœì„œëŒ€ë¡œ ì¶œë ¥**ì´ ë©ë‹ˆë‹¤. [ì°¸ê³ ìë£Œ](dfs\_bfs.md)

## BFS (Breadth First Search)

> ìµœëŒ€í•œ ê°€ê¹Œìš´ ë…¸ë“œë¶€í„° íƒìƒ‰í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì…ë‹ˆë‹¤.

**1. íƒìƒ‰ ë…¸ë“œë¥¼ íì— ì‚½ì…í•˜ê³  ë°©ë¬¸ ì²˜ë¦¬ í•œë‹¤.**

**2. íì—ì„œ ë…¸ë“œë¥¼ êº¼ë‚´ í•´ë‹¹ ë…¸ë“œì˜ ì¸ì ‘ ë…¸ë“œ ì¤‘ ë°©ë¬¸í•˜ì§€ ì•ŠëŠ” ë…¸ë“œë¥¼ ëª¨ë‘ íì— ì‚½ì…í•˜ê³  ë°©ë¬¸ ì²˜ë¦¬ í•œë‹¤.**

![BFS](https://user-images.githubusercontent.com/55238671/236124749-4d82f713-3eaf-4359-947e-ae6819cf7b1a.gif)

ë„ˆë¹„ ìš°ì„  íƒìƒ‰ ì•Œê³ ë¦¬ì¦˜ì€ í ìë£Œêµ¬ì¡°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë‘ê³  ìˆìŠµë‹ˆë‹¤. ì‹¤ì œë¡œ `deque` ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ë©´ ì¢€ë” í¸í•˜ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì‹œê°„ë³µì¡ë„ëŠ” ë§ˆì°¬ê°€ì§€ë¡œ N ê°œì˜ ë°ì´í„°ë¥¼ ëª¨ë‘ ë°©ë¬¸í•˜ë¯€ë¡œ $O(N)$ì˜ ì‹œê°„ë³µì¡ë„ì…ë‹ˆë‹¤.

> ì‹¤ì œë¡œ ìˆ˜í–‰ì‹œê°„ì€ DFSë³´ë‹¤ ë¹ ë¥¸ í¸ì…ë‹ˆë‹¤.

#### ì½”ë“œ

```python
from collections import deque

def bfs(graph, start, visited):
  """
  params:
  - graph : ê·¸ë˜í”„
  - start : íƒìƒ‰ ì‹œì‘ ë…¸ë“œ
  - visited : ë°©ë¬¸ ì²´í¬ ìš© ë¦¬ìŠ¤íŠ¸
  """
  # Deque ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì´ìš©í•´ Queue êµ¬í˜„
  
  queue = deque([start])
  visited[start] = True # í˜„ì¬ ë…¸ë“œ ë°©ë¬¸ ì²˜ë¦¬

  # íê°€ ë¹Œë•Œ ê¹Œì§€ ë°˜ë³µ
  while queue:
      v = queue.popleft()
      print(v, end = '')

      # íì—ì„œ ë…¸ë“œë¥¼ êº¼ë‚´ë©´ í•´ë‹¹ ë…¸ë“œì™€ ì—°ê²°ëœ ì•„ì§ ë°©ë¬¸í•˜ì§€ ì•Šì€ ì›ì†Œë“¤ì„ íì— ì‚½ì…
      for i in graph[v]:
        if not visited:
          queue.append(i)
          visited[i] = True


# ê° ë…¸ë“œê°€ ì—°ê²°ëœ ì •ë³´ë¥¼ ì¸ì ‘ë¦¬ìŠ¤íŠ¸ë¡œ í‘œí˜„ (2ì°¨ì›)
graph = [
  [],
  [2, 3, 8],
  [1, 7],
  [1, 4, 5],
  [3, 5],
  [3, 4],
  [7],
  [2, 6, 8],
  [1, 7]
]

# ë°©ë¬¸ëœ ì •ë³´ë¥¼ ì²´í¬í•˜ëŠ” ë¦¬ìŠ¤íŠ¸ ìë£Œí˜•
visited = [False] * 9

bfs(graph, 1, visited)
```

### ì •ë¦¬

|       | DFS                                     | BFS                                    |
| ----- | --------------------------------------- | -------------------------------------- |
| ë™ì‘ ì›ë¦¬ | ìŠ¤íƒ                                      | í                                      |
| êµ¬í˜„ ë°©ë²• | ì¬ê·€ í•¨ìˆ˜                                   | í ìë£Œêµ¬ì¡°, deque                          |
| ê³¼ì •1   | ìŠ¤íƒì—ì„œ ë…¸ë“œë¥¼ êº¼ë‚´ ë°©ë¬¸í•˜ì§€ ì•Šì€ ì¸ì ‘ ë…¸ë“œë¥¼ ìŠ¤íƒì— ë„£ê³  ë°©ë¬¸ ì²˜ë¦¬ | íì—ì„œ ë…¸ë“œë¥¼ êº¼ë‚´ ë°©ë¬¸í•˜ì§€ ì•Šì€ ì¸ì ‘ ë…¸ë“œ ëª¨ë‘ íì— ë„£ê³  ë°©ë¬¸ì²˜ë¦¬ |
| ê³¼ì •2   | ë°©ë¬¸ ê°€ëŠ¥í•œ ë…¸ë“œê°€ ì—†ìœ¼ë©´ ìŠ¤íƒì—ì„œ ìµœìƒë‹¨ ë…¸ë“œ êº¼ëƒ„           | ë°©ë¬¸ ê°€ëŠ¥í•œ ë…¸ë“œê°€ ì—†ìœ¼ë©´ ë¬´ì‹œ                      |

> ì½”ë”©í…ŒìŠ¤íŠ¸ì—ì„œ **2ì°¨ì› ë°°ì—´ì˜ íƒìƒ‰ ë¬¸ì œ**ê°€ ìˆë‹¤ë©´ ê·¸ë˜í”„ í˜•íƒœë¡œ ë°”ê¾¸ì„œ í’€ì´í•˜ë©´ ëœë‹¤.

***

* [ìŒë£Œìˆ˜ ì–¼ë ¤ë¨¹ê¸°](https://github.com/dustin-kang/Programming-Team-Notes/blob/Python/dfs\_bfs/dfs\_bfs\_pratice.md#%EC%8B%A4%EC%A0%841-%EC%9D%8C%EB%A3%8C%EC%88%98-%EC%96%BC%EB%A0%A4%EB%A8%B9%EA%B8%B0)
* [ë¯¸ë¡œ íƒˆì¶œ](https://github.com/dustin-kang/Programming-Team-Notes/blob/Python/dfs\_bfs/dfs\_bfs\_pratice.md#%EC%8B%A4%EC%A0%842-%EB%AF%B8%EB%A1%9C%ED%83%88%EC%B6%9C)
